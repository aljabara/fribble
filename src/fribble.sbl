* This software is licensed under the MIT License, contained in the file LICENSE.

* Copyright (c) 2017 dave shields

-include "words.sbl"
-include "show.sbl"

*	Have fribble play itself.

loop
	output = 'enter c to continue, q to quit:'
	name = input					:f(over)
	ident(name,'q')					:s(over)

	output = 'enter first player name, or nothing to have fribble be the first player:'
	name = input					:f(done)
	name span(' ') =
	one = player(name)
	output = 'enter second player name, or nothing to have fribble be the second player:'
	name = input 					:f(over)
	name span(' ') =
	two = player(name)
	limit(one) = limit(two) = 6

	init()
	output = 'g.tiles ' g.tiles
	maxmoves = 7
	maxmoves = 10
	maxmoves = 80

*	&dump = 3
*	&ftrace = &trace  = 100000
*	g.tracing = 1

	game(one,two,maxmoves)				:(done)	
	
nomove
	output =  ' player ' name(p) ' has no move, pass.';* fall through to player one for their turn.

many.moves
	output = 'too many moves.'			:(done)
no.moves
	output = ' game over, player one ' lpad(total(one),4) total(one)
.			 ', player ' name(two)  lpad(total(two),3) '.' :(done)
	output =
	output =
done
	counters()
							:(loop)
over
	output = 'Game over -- good bye.'
end
